{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Poste-106\\\\Documents\\\\fiche-paie-complet\\\\src\\\\Admin.jsx\",\n  _s = $RefreshSig$();\nimport { useState, useEffect } from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Admin() {\n  _s();\n  const [accounts, setAccounts] = useState([]);\n  const navigate = useNavigate();\n  useEffect(() => {\n    try {\n      const raw = localStorage.getItem('accounts');\n      setAccounts(raw ? JSON.parse(raw) : []);\n    } catch (e) {\n      setAccounts([]);\n    }\n  }, []);\n  const removeAccount = email => {\n    const filtered = accounts.filter(a => a.email !== email);\n    localStorage.setItem('accounts', JSON.stringify(filtered));\n    setAccounts(filtered);\n  };\n  const toggleAdmin = email => {\n    const updated = accounts.map(a => {\n      if (a.email === email) return {\n        ...a,\n        isAdmin: !a.isAdmin\n      };\n      return a;\n    });\n    localStorage.setItem('accounts', JSON.stringify(updated));\n    setAccounts(updated);\n  };\n  const clearAll = () => {\n    if (!confirm('Supprimer tous les comptes ?')) return;\n    localStorage.removeItem('accounts');\n    setAccounts([]);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      padding: 20\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        justifyContent: 'space-between',\n        alignItems: 'center'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Admin \\u2014 comptes enregistr\\xE9s\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(Link, {\n          to: \"/\",\n          style: {\n            marginRight: 10\n          },\n          children: \"Accueil\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => navigate('/login'),\n          children: \"Login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: 20\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: clearAll,\n        style: {\n          marginBottom: 12\n        },\n        children: \"Supprimer tous les comptes\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n        border: 1,\n        cellPadding: 8,\n        style: {\n          width: '100%',\n          borderCollapse: 'collapse'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Email\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 50,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Pr\\xE9nom\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 50,\n              columnNumber: 31\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Nom\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 50,\n              columnNumber: 46\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Admin\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 50,\n              columnNumber: 58\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Actions\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 50,\n              columnNumber: 72\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: [accounts.map(a => /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              children: a.email\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 55,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: a.first\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 56,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: a.last\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 57,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              style: {\n                textAlign: 'center'\n              },\n              children: a.isAdmin ? '✅' : ''\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 58,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              style: {\n                display: 'flex',\n                gap: 8\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => toggleAdmin(a.email),\n                children: a.isAdmin ? 'Démouvoir' : 'Promouvoir'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 60,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => removeAccount(a.email),\n                children: \"Supprimer\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 61,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 59,\n              columnNumber: 17\n            }, this)]\n          }, a.email, true, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 15\n          }, this)), accounts.length === 0 && /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: /*#__PURE__*/_jsxDEV(\"td\", {\n              colSpan: 5,\n              style: {\n                textAlign: 'center'\n              },\n              children: \"Aucun compte\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 66,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 37,\n    columnNumber: 5\n  }, this);\n}\n_s(Admin, \"ighehxbgwgIEyip+d6EkXl6JGgg=\", false, function () {\n  return [useNavigate];\n});\n_c = Admin;\nvar _c;\n$RefreshReg$(_c, \"Admin\");","map":{"version":3,"names":["useState","useEffect","Link","useNavigate","jsxDEV","_jsxDEV","Admin","_s","accounts","setAccounts","navigate","raw","localStorage","getItem","JSON","parse","e","removeAccount","email","filtered","filter","a","setItem","stringify","toggleAdmin","updated","map","isAdmin","clearAll","confirm","removeItem","style","padding","children","display","justifyContent","alignItems","fileName","_jsxFileName","lineNumber","columnNumber","to","marginRight","onClick","marginTop","marginBottom","border","cellPadding","width","borderCollapse","first","last","textAlign","gap","length","colSpan","_c","$RefreshReg$"],"sources":["C:/Users/Poste-106/Documents/fiche-paie-complet/src/Admin.jsx"],"sourcesContent":["import { useState, useEffect } from 'react';\r\nimport { Link, useNavigate } from 'react-router-dom';\r\n\r\nexport default function Admin() {\r\n  const [accounts, setAccounts] = useState([]);\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    try {\r\n      const raw = localStorage.getItem('accounts');\r\n      setAccounts(raw ? JSON.parse(raw) : []);\r\n    } catch (e) { setAccounts([]); }\r\n  }, []);\r\n\r\n  const removeAccount = (email) => {\r\n    const filtered = accounts.filter(a => a.email !== email);\r\n    localStorage.setItem('accounts', JSON.stringify(filtered));\r\n    setAccounts(filtered);\r\n  };\r\n\r\n  const toggleAdmin = (email) => {\r\n    const updated = accounts.map(a => {\r\n      if (a.email === email) return { ...a, isAdmin: !a.isAdmin };\r\n      return a;\r\n    });\r\n    localStorage.setItem('accounts', JSON.stringify(updated));\r\n    setAccounts(updated);\r\n  };\r\n\r\n  const clearAll = () => {\r\n    if (!confirm('Supprimer tous les comptes ?')) return;\r\n    localStorage.removeItem('accounts');\r\n    setAccounts([]);\r\n  };\r\n\r\n  return (\r\n    <div style={{padding:20}}>\r\n      <div style={{display:'flex',justifyContent:'space-between',alignItems:'center'}}>\r\n        <h2>Admin — comptes enregistrés</h2>\r\n        <div>\r\n          <Link to=\"/\" style={{marginRight:10}}>Accueil</Link>\r\n          <button onClick={()=>navigate('/login')}>Login</button>\r\n        </div>\r\n      </div>\r\n\r\n      <div style={{marginTop:20}}>\r\n        <button onClick={clearAll} style={{marginBottom:12}}>Supprimer tous les comptes</button>\r\n        <table border={1} cellPadding={8} style={{width:'100%', borderCollapse:'collapse'}}>\r\n          <thead>\r\n            <tr><th>Email</th><th>Prénom</th><th>Nom</th><th>Admin</th><th>Actions</th></tr>\r\n          </thead>\r\n          <tbody>\r\n            {accounts.map(a=> (\r\n              <tr key={a.email}>\r\n                <td>{a.email}</td>\r\n                <td>{a.first}</td>\r\n                <td>{a.last}</td>\r\n                <td style={{textAlign:'center'}}>{a.isAdmin ? '✅' : ''}</td>\r\n                <td style={{display:'flex',gap:8}}>\r\n                  <button onClick={()=>toggleAdmin(a.email)}>{a.isAdmin ? 'Démouvoir' : 'Promouvoir'}</button>\r\n                  <button onClick={()=>removeAccount(a.email)}>Supprimer</button>\r\n                </td>\r\n              </tr>\r\n            ))}\r\n            {accounts.length===0 && (\r\n              <tr><td colSpan={5} style={{textAlign:'center'}}>Aucun compte</td></tr>\r\n            )}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}